<!DOCTYPE html>
<html lang="en">

<head>
    <title>WA_Lab-Assignment-7</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
    <style>
        img {
            width: 200px;
            height: 200px;
        }

        #locations {
            font-family: sans-serif;
            color: brown;
        }

        #penalty {
            font-family: 'Times New Roman', Times, serif;
            color: yellowgreen;
        }

        #help {
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            color: darkorchid;
        }
    </style>

</head>

<body>

    <div class="container" id="target">
        <h3 style="background-color:darkviolet">Find the treasure by - "Chandana Annadi"</h3>
        <p style="font-family:'Lucida Sans', 'Lucida Sans Regular', sans-serif; color: deeppink;">Click on the locations
            to search for treasure, beware the traps</p>

        <p id="locations">Number of locations checked is zero</p>

        <p id="penalty">Penalty is zero</p>

        <p style="font-family: 'Segoe UI';color: lightseagreen;">Click for help</p>

        <p id="help">Help report</p>

        <button onclick="newGame()">New Game</button>
        <br>
        <br>

        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
            <div class="col"><img id="row-1" src="Treasure_hidden.jpg" onclick="check(0)"></div>
            <div class="col"><img id="row-2" src="Treasure_hidden.jpg" onclick="check(1)"></div>
            <div class="col"><img id="row-3" src="Treasure_hidden.jpg" onclick="check(2)"></div>
            <div class="col"><img id="row-4" src="Treasure_hidden.jpg" onclick="check(3)"></div>
            <div class="col"><img id="row-5" src="Treasure_hidden.jpg" onclick="check(4)"></div>
        </div>
        &nbsp;
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
            <div class="col"><img id="row-6" src="Treasure_hidden.jpg" onclick="check(5)"></div>
            <div class="col"><img id="row-7" src="Treasure_hidden.jpg" onclick="check(6)"></div>
            <div class="col"><img id="row-8" src="Treasure_hidden.jpg" onclick="check(7)"></div>
            <div class="col"><img id="row-9" src="Treasure_hidden.jpg" onclick="check(8)"></div>
            <div class="col"><img id="row-10" src="Treasure_hidden.jpg" onclick="check(9)"></div>
        </div>
        &nbsp;
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
            <div class="col"><img id="row-11" src="Treasure_hidden.jpg" onclick="check(10)"></div>
            <div class="col"><img id="row-12" src="Treasure_hidden.jpg" onclick="check(11)"></div>
            <div class="col"><img id="row-13" src="Treasure_hidden.jpg" onclick="check(12)"></div>
            <div class="col"><img id="row-14" src="Treasure_hidden.jpg" onclick="check(13)"></div>
            <div class="col"><img id="row-15" src="Treasure_hidden.jpg" onclick="check(14)"></div>
        </div>
        &nbsp;
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
            <div class="col"><img id="row-16" src="Treasure_hidden.jpg" onclick="check(15)"></div>
            <div class="col"><img id="row-17" src="Treasure_hidden.jpg" onclick="check(16)"></div>
            <div class="col"><img id="row-18" src="Treasure_hidden.jpg" onclick="check(17)"></div>
            <div class="col"><img id="row-19" src="Treasure_hidden.jpg" onclick="check(18)"></div>
            <div class="col"><img id="row-20" src="Treasure_hidden.jpg" onclick="check(19)"></div>
        </div>
        &nbsp;
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
            <div class="col"><img id="row-21" src="Treasure_hidden.jpg" onclick="check(20)"></div>
            <div class="col"><img id="row-22" src="Treasure_hidden.jpg" onclick="check(21)"></div>
            <div class="col"><img id="row-23" src="Treasure_hidden.jpg" onclick="check(22)"></div>
            <div class="col"><img id="row-24" src="Treasure_hidden.jpg" onclick="check(23)"></div>
            <div class="col"><img id="row-25" src="Treasure_hidden.jpg" onclick="check(24)"></div>
        </div>

    </div>
    <script>
        var ids = ["row-1", "row-2", "row-3", "row-4", "row-5", "row-6", "row-7", "row-8", "row-9", "row-10", "row-11", "row-12", "row-13", "row-14", "row-15", "row-16", "row-17", "row-18", "row-19", "row-20", "row-21", "row-22", "row-23", "row-24", "row-25"];
        var checkCount = 0;
        var penalty = 0;
        var lastCheck = 0;
        var treasureLocation = 5;
        var trapLocation = 18;
        var gameOver = false;
        function check(position){
            if(gameOver)
            return;
            var id = ids[position];
            var image = document.getElementById(id);
            if(position == treasureLocation){
                image.src = "treasure.jpg"; 
                gameOver = true;
                penalty = penalty - 3;
            }
            else if(position == trapLocation){
                image.src = "trap.jpg";
                gameOver = true;
                penalty = penalty + 4;
            }
            else{
                image.src = "pirate.jpg";
            }
            checkCount++;
            penalty++;
            document.getElementById("locations").innerHTML =  "Number of locations checked is : " + checkCount;
            document.getElementById("penalty").innerHTML = "Penalty is : " + penalty;
            lastCheck = position;
        } 

        function help(){
            var text = "";
            var treasureCol = parseInt(treasureLocation % 5);
            var treasureRow = parseInt(treasureLocation / 5);
            var lastCheckCol = parseInt(lastCheck % 5);
            var lastCheckRow = parseInt(lastCheck / 5);
            var col = treasureCol == lastCheckCol;
            var row = treasureRow == lastCheckRow;
            var coldiff = lastCheckCol - treasureCol;
            var rowdiff = lastCheckRow - treasureRow;
                if(col || row){
                    if((rowdiff == 1)||(coldiff == 1)) {
                        text = "Can Smell It";
                    }
                    else if((rowdiff == 2)||(coldiff == 2)){
                        text = "Close Matie";
                    }
                    else {
                        text = "Step Faster"
                    }
                }
            else if((rowdiff == 1) && (coldiff == 1))
                text = "Close Matie";
            else{
                text = "Step Faster";
            }
            penalty = penalty + 2;
            document.getElementById("penalty").innerHTML = "Penalty is : " + penalty;   
            document.getElementById("help").innerHTML = text;
        } 
            var trapLocation = Math.floor(Math.random() * 25); 
            var treasureLocation = Math.floor(Math.random() * 25); 

            function newGame() {
                trapLocation = Math.floor(Math.random() * 25);
                treasureLocation = Math.floor(Math.random() * 25);
                checkCount = 0;
                penalty = 0;
                lastCheck = 0;
                gameOver = false;
                document.getElementById("locations").innerHTML = "Number of locations checked is 0";
                document.getElementById("penalty").innerHTML = "Penalty is 0";
                document.getElementById("help").innerHTML = "Click for help";
                
            }

       
    </script>

</body>

</html>