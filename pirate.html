<!DOCTYPE html>
<html lang="en">

<head>
    <title>WA_Lab-Assignment-7</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>
    <style>
        img {
            width: 200px;
            height: 200px;
        }

        #locations {
            font-family: sans-serif;
            color: brown;
        }

        #penalty {
            font-family: 'Times New Roman', Times, serif;
            color: yellowgreen;
        }

        #help {
            font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
            color: darkorchid;
        }
    </style>

</head>

<body>

    <div class="container" id="target">
        <h3 style="background-color:darkviolet">Find the treasure by - "Chandana Annadi"</h3>
        <p style="font-family:'Lucida Sans', 'Lucida Sans Regular', sans-serif; color: deeppink;">Click on the locations
            to search for treasure, beware the traps</p>

        <p id="locations">Number of locations checked is zero</p>

        <p id="penalty">Penalty is zero</p>

        <p style="font-family: 'Segoe UI';color: lightseagreen;"><button onclick="help()">Click for help</button></p>

        <p id="help">Help report</p>

        <button type="button" class="button" onclick="resetGame()">New Game</button>

        <br>
        <br>

        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
            <div class="col"><img id="0" src="Treasure_hidden.jpg" alt="location" onclick="check(0)"></div>
            <div class="col"><img id="1" src="Treasure_hidden.jpg" alt="location" onclick="check(1)"></div>
            <div class="col"><img id="2" src="Treasure_hidden.jpg" alt="location" onclick="check(2)"></div>
            <div class="col"><img id="3" src="Treasure_hidden.jpg" alt="location" onclick="check(3)"></div>
            <div class="col"><img id="4" src="Treasure_hidden.jpg" alt="location" onclick="check(4)"></div>
        </div>
        &nbsp;
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
            <div class="col"><img id="5" src="Treasure_hidden.jpg" alt="location" onclick="check(5)"></div>
            <div class="col"><img id="6" src="Treasure_hidden.jpg" alt="location" onclick="check(6)"></div>
            <div class="col"><img id="7" src="Treasure_hidden.jpg" alt="location" onclick="check(7)"></div>
            <div class="col"><img id="8" src="Treasure_hidden.jpg" alt="location" onclick="check(8)"></div>
            <div class="col"><img id="9" src="Treasure_hidden.jpg" alt="location" onclick="check(9)"></div>
        </div>
        &nbsp;
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
            <div class="col"><img id="10" src="Treasure_hidden.jpg" alt="location" onclick="check(10)"></div>
            <div class="col"><img id="11" src="Treasure_hidden.jpg" alt="location" onclick="check(11)"></div>
            <div class="col"><img id="12" src="Treasure_hidden.jpg" alt="location" onclick="check(12)"></div>
            <div class="col"><img id="13" src="Treasure_hidden.jpg" alt="location" onclick="check(13)"></div>
            <div class="col"><img id="14" src="Treasure_hidden.jpg" alt="location" onclick="check(14)"></div>
        </div>
        &nbsp;
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
            <div class="col"><img id="15" src="Treasure_hidden.jpg" alt="location" onclick="check(15)"></div>
            <div class="col"><img id="16" src="Treasure_hidden.jpg" alt="location" onclick="check(16)"></div>
            <div class="col"><img id="17" src="Treasure_hidden.jpg" alt="location" onclick="check(17)"></div>
            <div class="col"><img id="18" src="Treasure_hidden.jpg" alt="location" onclick="check(18)"></div>
            <div class="col"><img id="19" src="Treasure_hidden.jpg" alt="location" onclick="check(19)"></div>
        </div>
        &nbsp;
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
            <div class="col"><img id="20" src="Treasure_hidden.jpg" alt="location" onclick="check(20)"></div>
            <div class="col"><img id="21" src="Treasure_hidden.jpg" alt="location" onclick="check(21)"></div>
            <div class="col"><img id="22" src="Treasure_hidden.jpg" alt="location" onclick="check(22)"></div>
            <div class="col"><img id="23" src="Treasure_hidden.jpg" alt="location" onclick="check(23)"></div>
            <div class="col"><img id="24" src="Treasure_hidden.jpg" alt="location" onclick="check(24)"></div>
        </div>

    </div>
    <script>
        let ids = new Array();
        for (i = 0; i < 25; i++) {
            ids.push(i);
        }
        let checkCount = 0;
        let penalty = 0;
        let lastCheck = 0;
        let treasureLocation = 5;
        let trapLocation = 18;
        let gameOver = false;

        function check(position) {
            if (gameOver) {
                return;
            }
            let id = ids[position];
            let imgElement = document.getElementById(id);
            if (position === treasureLocation) {
                imgElement.src = 'Treasure.jpg';
            } else if (position === trapLocation) {
                imgElement.src = 'Trap.jpg';
            }
            else {
                imgElement.src = 'pirate.jpg';
            }
            if (position == treasureLocation) {
                gameOver = true;
                penalty -= 3;
            }
            else if (position == trapLocation) {
                gameOver = true;
                penalty += 4;
            }
            checkCount++;
            penalty++;
            document.getElementById('locations').textContent = checkCount;
            document.getElementById('penalty').textContent = penalty;
            lastCheck = position;

        }
        function help() {
            if (gameOver) {
                return;
            }
            let treasureRow = Math.floor(treasureLocation / 5);
            let treasureCol = treasureLocation % 5;
            let lastRow = Math.floor(lastCheck / 5);
            let lastCol = lastCheck % 5;


            let rowDiff = Math.abs(treasureRow - lastRow);
            let colDiff = Math.abs(treasureCol - lastCol);


            if ((rowDiff === 1 && colDiff === 0) || (rowDiff === 0 && colDiff === 1)) {
                document.getElementById('help').textContent = 'can smell it';
            } else if (rowDiff + colDiff === 2) {
                document.getElementById('help').textContent = 'Close Matie';

            } else {
                document.getElementById('help').textContent = 'StepFaster';
            }
            penalty += 2;
            document.getElementById('penalty').textContent = "penalty is " + penalty;
            document.getElementById('help').textContent = text;

        }

        document.getElementById("locations").textContent = "Number of locations checked is 0";
        document.getElementById("penalty").textContent = "penalty is 0";
        document.getElementById("help").textContent = "click for help";


        function resetGame() {
                treasureLocation = Math.floor(Math.random() * 25)
                while(treasureLocation == 12) {
                    treasureLocation = Math.floor(Math.random() * 25) }
                chestCount = 0
                penalty = 0
                document.getElementById("locations").innerHTML = "Number of locations checked is Zero " + chestCount;
                document.getElementById("penalty").innerHTML = "chestCount " + penalty;
                for(let i = 0; i < 25; i++) {
                    if(i != 12) {
                        document.getElementById(ids[i]).src = "Treasure_hidden.jpg"}}}


    </script>

</body>

</html>